<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Patient Dashboard</title>
    <link rel="stylesheet" href="styles2.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        .editable-input {
            display: none;
        }
        .editing .editable-input {
            display: inline-block;
        }
        .editing .view-text {
            display: none;
        }
        .edit-btn {
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
   
  
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">MedPortal</div>
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-view="overview">
                    <i>ðŸ‘¤</i>
                    <span>Overview</span>
                </a>
                <a href="#" class="nav-item" data-view="history">
                    <i>ðŸ“‹</i>
                    <span>History</span>
                </a>
                <a href="#" class="nav-item" data-view="reports">
                    <i>ðŸ“Š</i>
                    <span>Reports</span>
                </a>
                <a href="#" class="nav-item" data-view="prescriptions">
                    <i>ðŸ’Š</i>
                    <span>Prescriptions</span>
                </a>
                <a href="#" class="nav-item" data-view="payments">
                    <i>ðŸ’³</i>
                    <span>Payments</span>
                </a>
                <a href="#" class="nav-item" data-view="appointments">
                    <i>ðŸ“…</i>
                    <span>Appointments</span>
                </a>
            </nav>
        </aside>

        
<!-- Header -->
<!-- Header -->
<header class="header">
  <div class="logo">MedPortal</div>
  <div class="patient-info">
      <div class="patient-avatar"></div>
      <div class="dropdown">
          <div class="dropdown-trigger">
              <div class="patient-details">
                  <h2>Tanvi</h2>
                  <p>Tanvi.tan@gmail.com</p>
              </div>
              <i class="arrow-down">â–¼</i>
          </div>
          <ul class="dropdown-menu">
              <li><a href="#">Profile</a></li>
              <li><a href="#">Settings</a></li>
              <li><a href="#">Notifications</a></li>
              <li><a href="#">Help</a></li>
              <li><a href="#" id="logoutButton">Logout</a></li>
          </ul>
      </div>
  </div>
</header>



        <!-- Content Area -->
        <div class="content" id="contentArea">
            <!-- Default content is the Overview -->
            <div class="card">
                <div class="card-header">
                    <h2>Overview</h2>
                </div>
                <div class="card-body">
                    <div class="overview-grid">
                        <div class="overview-item">
                            <h3>Patient</h3>
                            <p>
                                <strong>Name:</strong> 
                                <span class="view-text">Tanvi</span>
                                <input type="text" value="Tanvi" class="editable-input" />
                            </p>
                            <p>
                                <strong>Email:</strong> 
                                <span class="view-text">Tanvi.tan@gmail.com</span>
                                <input type="text" value="Tanvi.tan@gmail.com" class="editable-input" />
                            </p>
                            <p>
                                <strong>DOB:</strong> 
                                <span class="view-text">Mar 15, 1990</span>
                                <input type="date" value="1990-03-15" class="editable-input" />
                            </p>
                        </div>
                        <div class="overview-item">
                            <h3>Contact</h3>
                            <p>
                                <strong>Phone:</strong> 
                                <span class="view-text">(555) 123-4567</span>
                                <input type="text" value="(555) 123-4567" class="editable-input" />
                            </p>
                            <p>
                                <strong>Address:</strong> 
                                <span class="view-text">123 Medical Way</span>
                                <input type="text" value="123 Medical Way" class="editable-input" />
                            </p>
                            <p>
                                <strong>City:</strong> 
                                <span class="view-text">Springfield</span>
                                <input type="text" value="Springfield" class="editable-input" />
                            </p>
                            <p>
                                <strong>ZIP:</strong> 
                                <span class="view-text">12345</span>
                                <input type="text" value="12345" class="editable-input" />
                            </p>
                        </div>
                        <div class="overview-item">
                            <h3>Medical</h3>
                            <p>
                                <strong>Blood Type:</strong> 
                                <span class="view-text">A+</span>
                                <input type="text" value="A+" class="editable-input" />
                            </p>
                            <p>
                                <strong>Allergies:</strong> 
                                <span class="view-text">None</span>
                                <input type="text" value="None" class="editable-input" />
                            </p>
                            <p>
                                <strong>Registered:</strong> 
                                <span class="view-text">Jan 10, 2024</span>
                                <input type="date" value="2024-01-10" class="editable-input" />
                            </p>
                        </div>
                    </div>
                    <button class="edit-btn" id="editButton">Edit</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="theme-toggle">
      <button id="themeToggle">ðŸŒ™</button>
    </div>
    
   

    <div class="theme-toggle">
        <button id="themeToggle">ðŸŒ™</button>
      </div>   

    <div class="theme-toggle">
        <button id="themeToggle">ðŸŒ™</button>
      </div>   

    <script>
      
   // Wait for the DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
    // Navigation functionality
    const navItems = document.querySelectorAll('.nav-item');
    const contentArea = document.getElementById('contentArea');

    // Define content for each view
    const viewsContent = {
        overview: `
            <div class="card">
                <div class="card-header">
                    <h2>Overview</h2>
                </div>
                <div class="card-body">
                    <div class="overview-grid">
                        <div class="overview-item">
                            <h3>Patient</h3>
                            <p><strong>Name:</strong> <span class="view-text">Tanvi</span><input type="text" value="Tanvi" class="editable-input" /></p>
                            <p><strong>Email:</strong> <span class="view-text">Tanvi.tan@gmail.com</span><input type="text" value="Tanvi.tan@gmail.com" class="editable-input" /></p>
                            <p><strong>DOB:</strong> <span class="view-text">Mar 15, 1990</span><input type="date" value="1990-03-15" class="editable-input" /></p>
                        </div>
                        <div class="overview-item">
                            <h3>Contact</h3>
                            <p><strong>Phone:</strong> <span class="view-text">(555) 123-4567</span><input type="text" value="(555) 123-4567" class="editable-input" /></p>
                            <p><strong>Address:</strong> <span class="view-text">123 Medical Way</span><input type="text" value="123 Medical Way" class="editable-input" /></p>
                            <p><strong>City:</strong> <span class="view-text">Springfield</span><input type="text" value="Springfield" class="editable-input" /></p>
                            <p><strong>ZIP:</strong> <span class="view-text">12345</span><input type="text" value="12345" class="editable-input" /></p>
                        </div>
                        <div class="overview-item">
                            <h3>Medical</h3>
                            <p><strong>Blood Type:</strong> <span class="view-text">A+</span><input type="text" value="A+" class="editable-input" /></p>
                            <p><strong>Allergies:</strong> <span class="view-text">None</span><input type="text" value="None" class="editable-input" /></p>
                            <p><strong>Registered:</strong> <span class="view-text">Jan 10, 2024</span><input type="date" value="2024-01-10" class="editable-input" /></p>
                        </div>
                    </div>
                    <button class="edit-btn" id="editButton">Edit</button>
                </div>
            </div>
        `,
        history: `
            <div class="card">
                <div class="card-header">
                    <h2>History</h2>
                </div>
                <div class="card-body">
                    <ul>
                        <li>Visit on Jan 10, 2024 - General Checkup</li>
                        <li>Visit on Feb 15, 2024 - Lab Tests</li>
                        <li>Visit on Mar 05, 2024 - Consultation</li>
                    </ul>
                </div>
            </div>
        `,
        reports: `
             <div class="dashboard-container">
    <h2>Patient Health Dashboard</h2>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Heart Rate</h3>
        <div class="value">72 BPM</div>
        <div class="trend">â†‘ 2% from last check</div>
      </div>
      
      <div class="stat-card">
        <h3>Blood Pressure</h3>
        <div class="value">120/80</div>
        <div class="trend">Normal</div>
      </div>
      
      <div class="stat-card">
        <h3>Temperature</h3>
        <div class="value">98.6Â°F</div>
        <div class="trend">Normal</div>
      </div>
      
      <div class="stat-card">
        <h3>Oxygen Level</h3>
        <div class="value">98%</div>
        <div class="trend">â†‘ 1% from last check</div>
      </div>
    </div>

    <div class="chart-container">
      <h3>Vital Signs History</h3>
      <canvas id="vitalsChart"></canvas>
    </div>

<div class="appointments">
  <h3>Upcoming Appointments</h3>
  <div id="appointmentsList"></div>
</div>
        `,
        prescriptions: `
            <div class="card">
                <div class="card-header">
                    <h2>Prescriptions</h2>
                </div>
                <div class="card-body">
                    <ul>
                        <li>Amoxicillin 500mg - Twice daily</li>
                        <li>Vitamin D Supplements - Once daily</li>
                    </ul>
                </div>
            </div>
        `,
        payments: `
             <div class="card">
        <div class="card-header">
            <h2>Payments</h2>
        </div>
        <div class="card-body">
            <p>Last payment: $150 on Dec 1, 2024</p>
            <button class="payment-btn" onclick="redirectToPayments()">Payment</button>
        </div>
    </div>
        `,
        appointments: `
            <div class="card">
                <div class="card-header">
                    <h2>Appointments</h2>
                </div>
                <div class="card-body">
                    <p>Upcoming appointment: Jan 5, 2025, 10:00 AM</p>
                </div>
            </div>
        `
    };

    //payment redirect
    function redirectToPayments() {
    window.location.href = "api.html"; // Replace with your actual payments page URL
}


    // Navigation click handler
    navItems.forEach(item => {
        item.addEventListener('click', (e) => {
            e.preventDefault();
            navItems.forEach(nav => nav.classList.remove('active'));
            item.classList.add('active');
            const view = item.getAttribute('data-view');
            if (contentArea) {
                contentArea.innerHTML = viewsContent[view] || '<p>Content not found.</p>';
                if (view === 'overview') {
                    initializeOverviewEdit();
                }
            }
        });
    });

    // Dropdown functionality
    const dropdown = document.querySelector('.dropdown');
    const dropdownTrigger = document.querySelector('.dropdown-trigger');
    const logoutButton = document.getElementById('logoutButton');

    if (dropdownTrigger && dropdown) {
        dropdownTrigger.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('open');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!dropdown.contains(e.target)) {
                dropdown.classList.remove('open');
            }
        });
    }

    if (logoutButton) {
        logoutButton.addEventListener('click', (e) => {
            e.preventDefault();
            alert('Logging out...');
            window.location.href = 'signIn.html';
        });
    }

    // Initialize overview edit functionality
    function initializeOverviewEdit() {
        const editButton = document.getElementById('editButton');
        const cardBody = document.querySelector('.card-body');

        if (editButton && cardBody) {
            editButton.addEventListener('click', () => {
                cardBody.classList.toggle('editing');
                editButton.textContent = cardBody.classList.contains('editing') ? 'Save' : 'Edit';
            });
        }
    }

    // Initialize the default view (Overview)
   // if (contentArea) {
   //     contentArea.innerHTML = viewsContent.overview;
     //   initializeOverviewEdit();
    //}
});

    // Function to initialize "Edit" button functionality for Overview
    function initializeOverviewEdit() {
        const editButton = document.getElementById('editButton');
        const cardBody = document.querySelector('.card-body');

        if (editButton) {
            editButton.addEventListener('click', () => {
                cardBody.classList.toggle('editing');
                editButton.textContent = cardBody.classList.contains('editing') ? 'Save' : 'Edit';
            });
        }
    }

    // Initialize the default view (Overview)
    //contentArea.innerHTML = viewsContent.overview;
    //initializeOverviewEdit();

    // Toggle Sidebar
    const menuToggle = document.getElementById('menuToggle');
const sidebar = document.getElementById('sidebar');

menuToggle.addEventListener('click', () => {
  sidebar.classList.toggle('active');
  document.querySelector('.main-content').classList.toggle('sidebar-active');
});

// Update the dropdown functionality
document.addEventListener('DOMContentLoaded', function() {
  const dropdown = document.querySelector('.dropdown');
  const dropdownTrigger = document.querySelector('.dropdown-trigger');

  // Toggle dropdown on trigger click
  dropdownTrigger.addEventListener('click', (e) => {
    e.stopPropagation();
    dropdown.classList.toggle('open');
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target)) {
      dropdown.classList.remove('open');
    }
  });

  // Close dropdown when clicking a menu item
  const dropdownItems = document.querySelectorAll('.dropdown-menu a');
  dropdownItems.forEach(item => {
    item.addEventListener('click', () => {
      dropdown.classList.remove('open');
    });
  });
});
// Function to initialize "Edit" button functionality for Overview
function initializeOverviewEdit() {
    const editButton = document.getElementById('editButton');
    const cardBody = document.querySelector('.card-body');

    if (editButton) {
        editButton.addEventListener('click', () => {
            cardBody.classList.toggle('editing');
            editButton.textContent = cardBody.classList.contains('editing') ? 'Save' : 'Edit';
        });
    }
}

// Re-initialize the edit button for the first time
initializeOverviewEdit();
    
</script>
<!-- At the end of your body tag, before your closing </body> -->

<script>

// Light/Dark Mode Toggle
const themeToggle = document.getElementById('themeToggle');

// Check if a mode is already saved in localStorage
const savedTheme = localStorage.getItem('theme');
if (savedTheme) {
    document.body.setAttribute('data-theme', savedTheme);
    themeToggle.textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
}

// Toggle the theme on button click
themeToggle.addEventListener('click', () => {
    const currentTheme = document.body.getAttribute('data-theme') || 'light';
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';

    // Update the theme and save it to localStorage
    document.body.setAttribute('data-theme', newTheme);
    themeToggle.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
    localStorage.setItem('theme', newTheme);
});

// Ensure button placement respects fixed positioning
window.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.querySelector('.theme-toggle');
    if (!toggleButton) {
        console.warn('Theme toggle button not found. Please check the HTML structure.');
    }
});

</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script>
    // Wait until everything is loaded
    window.onload = function() {
        // Get the canvas element
        const canvas = document.getElementById('vitalsChart');
        console.log("hello")
        
        if (!canvas) {
            console.error('Could not find canvas element');
            return;
        }

        // Create the chart
        new Chart(canvas, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                datasets: [{
                    label: 'Heart Rate',
                    data: [72, 75, 71, 73, 72],
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });
    };

    // Then your appointments code
    const appointments = [
        {
            doctor: 'Dr. Smith',
            type: 'Regular Checkup',
            date: '2024-12-24',
            time: '10:00 AM'
        },
        {
            doctor: 'Dr. Johnson',
            type: 'Lab Test',
            date: '2024-12-26',
            time: '2:30 PM'
        }
    ];

// Render appointments
const appointmentsList = document.getElementById('appointmentsList');
appointments.forEach(appointment => {
  const appointmentEl = document.createElement('div');
  appointmentEl.className = 'appointment-item';
  appointmentEl.innerHTML = `
    <div>
      <strong>${appointment.type}</strong>
      <div>${appointment.doctor}</div>
    </div>
    <div>
      <div>${new Date(appointment.date).toLocaleDateString()}</div>
      <div>${appointment.time}</div>
    </div>
  `;
  appointmentsList.appendChild(appointmentEl);
});
</script>

</body>
</html>